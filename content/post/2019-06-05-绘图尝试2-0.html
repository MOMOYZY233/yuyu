---
title: 绘图尝试2.0：全景式展现ggplot2
author: 鱼记苦瓜糖
date: '2019-06-05'
slug: 绘图尝试2-0
categories:
  - R
tags: []
---



<p>1、课堂回顾</p>
<pre class="r"><code>h&lt;-160:180
h</code></pre>
<pre><code>##  [1] 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176
## [18] 177 178 179 180</code></pre>
<pre class="r"><code>w&lt;-50:70
w</code></pre>
<pre><code>##  [1] 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70</code></pre>
<pre class="r"><code>plot(h,w,col=&quot;red&quot;)
library(lattice)</code></pre>
<p><img src="/post/2019-06-05-绘图尝试2-0_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
<pre class="r"><code>xyplot(h~w)</code></pre>
<p><img src="/post/2019-06-05-绘图尝试2-0_files/figure-html/unnamed-chunk-1-2.png" width="672" /></p>
<pre class="r"><code>library(ggplot2)</code></pre>
<pre><code>## Registered S3 methods overwritten by &#39;ggplot2&#39;:
##   method         from 
##   [.quosures     rlang
##   c.quosures     rlang
##   print.quosures rlang</code></pre>
<pre class="r"><code>df&lt;- data.frame(h,w)
df</code></pre>
<pre><code>##      h  w
## 1  160 50
## 2  161 51
## 3  162 52
## 4  163 53
## 5  164 54
## 6  165 55
## 7  166 56
## 8  167 57
## 9  168 58
## 10 169 59
## 11 170 60
## 12 171 61
## 13 172 62
## 14 173 63
## 15 174 64
## 16 175 65
## 17 176 66
## 18 177 67
## 19 178 68
## 20 179 69
## 21 180 70</code></pre>
<pre class="r"><code>ggplot(data=df,aes(x=df$h,y=df$w))+geom_point(color=&quot;red&quot;,size=5)+theme_bw()+geom_line(color=&quot;blue&quot;) </code></pre>
<p><img src="/post/2019-06-05-绘图尝试2-0_files/figure-html/unnamed-chunk-1-3.png" width="672" /></p>
<pre class="r"><code>hist(df$w,col=&quot;lightblue&quot;,border=&quot;white&quot;,labels=TRUE,ylim=c(0,7.8))</code></pre>
<p><img src="/post/2019-06-05-绘图尝试2-0_files/figure-html/unnamed-chunk-1-4.png" width="672" />
换成x：</p>
<pre class="r"><code>hist(df$h,col=&quot;lightblue&quot;,border=&quot;white&quot;,labels=TRUE,xlim=c(160,180))</code></pre>
<p><img src="/post/2019-06-05-绘图尝试2-0_files/figure-html/unnamed-chunk-2-1.png" width="672" />
2、散点图实例</p>
<pre class="r"><code>ggplot(mtcars,aes(mpg,wt))+geom_point()</code></pre>
<p><img src="/post/2019-06-05-绘图尝试2-0_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<pre class="r"><code>library(ggplot2)
ggplot(data=mtcars, aes(x=wt, y=mpg)) +
  geom_point() + 
    labs(title=&quot;Automobie Data&quot;, x=&quot;Weight&quot;, y=&quot;Miles Per Gallon&quot;)</code></pre>
<p><img src="/post/2019-06-05-绘图尝试2-0_files/figure-html/unnamed-chunk-4-1.png" width="672" />
3、qplot<br />
适用于散点图、箱线图、小提琴图、直方图以及密度曲线图。其绘图格式为： qplot(x, y=NULL, data, geom=“auto”)</p>
<p>x,y: 根据需要绘制的图形使用;<br />
data：数据集;<br />
geom：几何图形，变量x,y同时指定的话默认为散点图，只指定x的话默认为直方图</p>
<p>散点图示例：</p>
<pre class="r"><code>library(ggplot2)
qplot(wt,mpg,data=mtcars)</code></pre>
<p><img src="/post/2019-06-05-绘图尝试2-0_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>线图示例：</p>
<pre class="r"><code>library(ggplot2)
qplot(temperature,pressure,data = pressure,geom = &#39;line&#39;)   </code></pre>
<p><img src="/post/2019-06-05-绘图尝试2-0_files/figure-html/unnamed-chunk-6-1.png" width="672" />
加上点</p>
<pre class="r"><code>qplot(temperature,pressure,data = pressure,geom = c(&#39;line&#39;,&#39;point&#39;))</code></pre>
<p><img src="/post/2019-06-05-绘图尝试2-0_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>直方图：</p>
<pre class="r"><code>qplot(mpg,data = mtcars,binwidth=5)</code></pre>
<p><img src="/post/2019-06-05-绘图尝试2-0_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>密度图：</p>
<pre class="r"><code>qplot(mpg,data = mtcars,geom = &#39;density&#39;)</code></pre>
<p><img src="/post/2019-06-05-绘图尝试2-0_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>箱线图：</p>
<pre class="r"><code>qplot(supp,len,data=ToothGrowth,geom = &#39;boxplot&#39;,fill=&quot;red&quot;)</code></pre>
<p><img src="/post/2019-06-05-绘图尝试2-0_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>=======进阶版========<br />
钻石散点图：</p>
<pre class="r"><code>qplot(carat,price,data=diamonds)</code></pre>
<p><img src="/post/2019-06-05-绘图尝试2-0_files/figure-html/unnamed-chunk-11-1.png" width="672" />
alpha:透明度</p>
<pre class="r"><code>qplot(carat,price,data=diamonds,alpha=I(1/9))</code></pre>
<p><img src="/post/2019-06-05-绘图尝试2-0_files/figure-html/unnamed-chunk-12-1.png" width="672" />
扰动点图：(jitter：抖动)</p>
<pre class="r"><code>qplot(color,price/carat,data=diamonds,geom=&quot;jitter&quot;,alpha=I(1/5))</code></pre>
<p><img src="/post/2019-06-05-绘图尝试2-0_files/figure-html/unnamed-chunk-13-1.png" width="672" />
钻石重量的直方图和密度曲线图：<br />
直方图：</p>
<pre class="r"><code>qplot(carat,data=diamonds,geom=&quot;histogram&quot;,binwidth=2,color=color)</code></pre>
<p><img src="/post/2019-06-05-绘图尝试2-0_files/figure-html/unnamed-chunk-14-1.png" width="672" />
密度曲线图：</p>
<pre class="r"><code>qplot(carat,data=diamonds,geom=&quot;density&quot;,color=color)</code></pre>
<p><img src="/post/2019-06-05-绘图尝试2-0_files/figure-html/unnamed-chunk-15-1.png" width="672" />
条形图：</p>
<pre class="r"><code>qplot(color,data=diamonds,geom=&quot;bar&quot;,color=color)</code></pre>
<p><img src="/post/2019-06-05-绘图尝试2-0_files/figure-html/unnamed-chunk-16-1.png" width="672" />
箱线图：</p>
<pre class="r"><code>#构造数据集
set.seed(1234)
wdata &lt;- data.frame(
  sex=factor(rep(c(&quot;F&quot;, &quot;M&quot;), each=200)),
  weight=c(rnorm(200, 55), rnorm(200, 58))
)
head(wdata)</code></pre>
<pre><code>##   sex   weight
## 1   F 53.79293
## 2   F 55.27743
## 3   F 56.08444
## 4   F 52.65430
## 5   F 55.42912
## 6   F 55.50606</code></pre>
<pre class="r"><code>qplot(sex, weight, data = wdata, geom = &quot;boxplot&quot;, fill=sex)</code></pre>
<p><img src="/post/2019-06-05-绘图尝试2-0_files/figure-html/unnamed-chunk-17-1.png" width="672" />
小提琴图:</p>
<pre class="r"><code>qplot(sex, weight, data = wdata, geom = &quot;violin&quot;)</code></pre>
<p><img src="/post/2019-06-05-绘图尝试2-0_files/figure-html/unnamed-chunk-18-1.png" width="672" />
4、箱线图示例</p>
<pre class="r"><code>ggplot(ToothGrowth, aes(x=dose, y=len))+ geom_boxplot(aes(fill=supp))</code></pre>
<p><img src="/post/2019-06-05-绘图尝试2-0_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<p>参考资料：
<a href="https://blog.csdn.net/dollyh/article/details/74332208" class="uri">https://blog.csdn.net/dollyh/article/details/74332208</a>
<a href="https://www.jianshu.com/p/9c1065904d53" class="uri">https://www.jianshu.com/p/9c1065904d53</a>
<a href="https://www.jianshu.com/p/03719d7c207f" class="uri">https://www.jianshu.com/p/03719d7c207f</a>
<a href="https://www.cnblogs.com/nxld/p/6059603.html" class="uri">https://www.cnblogs.com/nxld/p/6059603.html</a>
<a href="https://www.cnblogs.com/tecdat/p/9359677.html" class="uri">https://www.cnblogs.com/tecdat/p/9359677.html</a>
<a href="https://www.jianshu.com/p/e2d4a4d3d0d2" class="uri">https://www.jianshu.com/p/e2d4a4d3d0d2</a>
<a href="https://www.cnblogs.com/ljhdo/archive/2018/08/02/4921588.html" class="uri">https://www.cnblogs.com/ljhdo/archive/2018/08/02/4921588.html</a></p>
